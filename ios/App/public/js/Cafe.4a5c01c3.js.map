{"version":3,"sources":["webpack:///./src/views/user/Cafe.vue","webpack:///./src/views/user/Cafe.vue?a300","webpack:///./src/components/user/AccordionList.vue","webpack:///./src/components/user/AccordionList.vue?0232","webpack:///./src/views/user/Cafe.vue?2e91"],"names":["class","src","alt","slot","href","icon","arrowBackOutline","notificationsOutline","fullscreen","cafe","name","title","fastFoodOutline","items","offerings","filter","offer","tag","expand","openModal","disabled","loggedIn","isUserSubscribed","notifications","is-open","isModalOpen","css-class","backdrop-dismiss","swipe-to-close","id","render","__scopeId","togglePane","locationOutline","isPanelOpen","chevronForwardOutline","chevronDownOutline","$event","item","key","components","IonIcon","props","type","String","default","Array","setup","e","paneClicked","panel","currentTarget","nextElementSibling","style","maxHeight","scrollHeight","value","IonPage","IonHeader","IonToolbar","IonButtons","IonContent","IonButton","IonModal","CafeInfoBody","FilterCategoryHeading","AccordionList","CafeSubscriptionModal","route","store","isMapModalOpen","getters","state","isMapModal","show","params","then","response","data","catch","error","alert","process"],"mappings":"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","file":"js/Cafe.4a5c01c3.js","sourcesContent":["<template>\r\n  <ion-page>\r\n    <ion-header class=\"ion-no-border\">\r\n      <ion-toolbar>\r\n        <div class=\"flex justify-between mt-3 md margin-top-reset\">\r\n          <ion-buttons slot=\"start\">\r\n            <ion-button href=\"/home\">\r\n              <ion-icon slot=\"icon-only\" :icon=\"arrowBackOutline\" class=\"text-gray-400\"></ion-icon>\r\n            </ion-button>\r\n          </ion-buttons>\r\n          <ion-buttons slot=\"start\">\r\n            <ion-button>\r\n              <ion-icon slot=\"icon-only\" :icon=\"notificationsOutline\" class=\"text-gray-400\"></ion-icon>\r\n            </ion-button>\r\n          </ion-buttons>\r\n        </div>\r\n      </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <ion-content :fullscreen=\"true\" class=\"ion-padding relative\">\r\n      <div class=\"relative\">\r\n        <img\r\n            src=\"http://192.168.1.203:8200/storage/img/cafe/cafeshow.png\"\r\n            alt=\"Image of {{ cafe.name }} cafe\"\r\n            class=\"banner-image w-full\"\r\n        />\r\n        <div\r\n            class=\"uppercase absolute bottom-2 right-3 bg-black opacity-60 popover-text-block inline-block text-white p-1.5\"\r\n        >\r\n          GALERIJA\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mt-4 ion-item-no-padding-x\">\r\n        <h1 class=\"cafe-show-name\">{{ cafe.name }}</h1>\r\n        <p class=\"cafe-show-offers mt-1\">Kafić, hrana, bašta. Nastavi dalje kako bi video šta vam naša aplikacija\r\n                                         nudi.</p>\r\n      </div>\r\n\r\n      <CafeInfoBody :cafe=\"cafe\"/>\r\n\r\n      <div>\r\n        <FilterCategoryHeading class=\"mt-7 mb-2 text-gray-400\" :title=\"'Meni'\" :icon=\"fastFoodOutline\"/>\r\n        <AccordionList\r\n            class=\"accordion-list-border-top\"\r\n            :title=\"'Karta pica'\"\r\n            :items=\"cafe.offerings?.filter(offer => offer.tag === 'pice')\"\r\n        />\r\n        <AccordionList\r\n            class=\"accordion-list-border-top accordion-list-border-bottom\"\r\n            :title=\"'Hrana'\"\r\n            :items=\"cafe.offerings?.filter(offer => offer.tag === 'hrana')\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"mt-10\">\r\n        <ion-button\r\n            class=\"uppercase button-subscribe-wide button-sub-wide-position\"\r\n            expand=\"block\"\r\n            @click=\"openModal(true)\"\r\n            :disabled=\"!loggedIn\"\r\n        >\r\n          <ion-icon slot=\"start\"\r\n                    :icon=\"isUserSubscribed ? notifications : notificationsOutline\"></ion-icon>\r\n          {{ isUserSubscribed ? 'Pretplacen' : 'Pretplati se' }}\r\n        </ion-button>\r\n      </div>\r\n      <ion-modal\r\n          :is-open=\"isModalOpen\"\r\n          css-class=\"custom-sub-modal\"\r\n          @didDismiss=\"openModal(false)\"\r\n          :backdrop-dismiss=\"true\"\r\n          :swipe-to-close=\"true\"\r\n      >\r\n        <CafeSubscriptionModal\r\n            :cafe=\"{'id': cafe.id, 'name': cafe.name}\"\r\n            @dismissSubscriptionModal=\"openModal(false)\"\r\n            @userToggledSubscription=\"isUserSubscribed = !isUserSubscribed\"\r\n        />\r\n      </ion-modal>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref, computed } from 'vue';\r\n\r\nimport { useStore } from 'vuex';\r\n\r\nimport { useRoute } from 'vue-router';\r\n\r\n\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonButtons,\r\n  IonContent,\r\n  IonIcon,\r\n  IonButton,\r\n  IonModal,\r\n} from '@ionic/vue';\r\n\r\nimport CafeInfoBody          from '@/components/user/CafeInfoBody';\r\nimport FilterCategoryHeading from '@/components/user/FilterCategoryHeading';\r\nimport AccordionList         from '@/components/user/AccordionList';\r\nimport CafeSubscriptionModal from '@/components/user/CafeSubscriptionModal';\r\n\r\nimport CafeService from '@/services/CafeService';\r\n\r\nimport {\r\n  arrowBackOutline,\r\n  notifications,\r\n  notificationsOutline,\r\n  fastFoodOutline,\r\n}\r\n  from 'ionicons/icons';\r\n\r\nexport default defineComponent({\r\n  name: \"Cafe\",\r\n  components: {\r\n    IonPage,\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonButtons,\r\n    IonContent,\r\n    IonIcon,\r\n    IonButton,\r\n    IonModal,\r\n    CafeInfoBody,\r\n    FilterCategoryHeading,\r\n    AccordionList,\r\n    CafeSubscriptionModal,\r\n  },\r\n  setup() {\r\n    /* Global properties */\r\n    const route = useRoute();\r\n    const store = useStore();\r\n\r\n    /* Componenet properties */\r\n    let cafe = ref({});\r\n    const isModalOpen = ref(false);\r\n    const isMapModalOpen = ref(false);\r\n    const isUserSubscribed = ref(false);\r\n\r\n    // Auth prop\r\n    let loggedIn = computed(() => store.getters['auth/loggedIn']);\r\n\r\n    /* Event handlers */\r\n    const openModal = (state, isMapModal = false) => {\r\n      if(isMapModal){\r\n        isMapModalOpen.value = state;\r\n      }else{\r\n        isModalOpen.value = state;\r\n      }\r\n    };\r\n\r\n    /* Lifecycle hooks */\r\n    /* Fetching all cafes from backend */\r\n    CafeService.show(route.params.id)\r\n               .then((response) => {\r\n                 cafe.value = response.data;\r\n               })\r\n               .catch((error) => alert(error));\r\n    /* Checking if user is subscribed to this cafe */\r\n    if(loggedIn.value) {\r\n      CafeService.isUserSubscribed(route.params.id)\r\n                 .then((response) => {\r\n                   isUserSubscribed.value = !!response.data;\r\n                 })\r\n                 .catch((error) => alert(error));\r\n    }\r\n\r\n\r\n    return {\r\n      /* Global properties */\r\n      process,\r\n\r\n      /* Component properties */\r\n      cafe,\r\n      isModalOpen,\r\n      isMapModalOpen,\r\n      isUserSubscribed,\r\n\r\n      //Auth prop\r\n      loggedIn,\r\n\r\n      /* Event handlers */\r\n      openModal,\r\n\r\n      /* Icons */\r\n      arrowBackOutline,\r\n      notifications,\r\n      notificationsOutline,\r\n      fastFoodOutline,\r\n    };\r\n  },\r\n\r\n});\r\n</script>\r\n<style scoped>\r\nion-toolbar {\r\n  --border-style: none;\r\n  --background: #FFF;\r\n  border-bottom-left-radius: 0 !important;\r\n  border-bottom-right-radius: 0 !important;\r\n}\r\n\r\nion-content {\r\n  --background: #FFF;\r\n}\r\n\r\nion-item {\r\n  --border-style: none !important;\r\n}\r\n</style>","import { render } from \"./Cafe.vue?vue&type=template&id=6da9039e&scoped=true\"\nimport script from \"./Cafe.vue?vue&type=script&lang=js\"\nexport * from \"./Cafe.vue?vue&type=script&lang=js\"\n\nimport \"./Cafe.vue?vue&type=style&index=0&id=6da9039e&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-6da9039e\"\n\nexport default script","<template>\r\n  <div class=\"accordion-list-box\">\r\n    <div @click=\"togglePane\" class=\"flex justify-between py-2.5\">\r\n      <div>\r\n        <ion-icon :icon=\"locationOutline\" class=\"align-middle text-gray-400\"></ion-icon>\r\n        <p class=\"inline-block ml-1 cafe-show-menu-headers\">{{ title }}</p>\r\n      </div>\r\n      <ion-icon :icon=\"isPanelOpen ? chevronForwardOutline : chevronDownOutline\" class=\"mt-1 text-gray-400\"></ion-icon>\r\n    </div>\r\n    <div class=\"panel\" @click=\"togglePane($event, true)\">\r\n      <div v-for=\"item in items\" :key=\"item\">\r\n        {{ item.name }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref } from 'vue';\r\n\r\nimport {\r\n  IonIcon,\r\n} from '@ionic/vue';\r\n\r\nimport {\r\n  locationOutline,\r\n  chevronDownOutline,\r\n  chevronForwardOutline,\r\n} from 'ionicons/icons';\r\n\r\nexport default defineComponent({\r\n  name: \"AccordionList\",\r\n  components: {\r\n    IonIcon,\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: 'Title',\r\n    },\r\n    items: {\r\n      type: Array,\r\n      default: null,\r\n    },\r\n  },\r\n  setup() {\r\n    /* Component properties */\r\n    const isPanelOpen = ref(false);\r\n\r\n    /* Methods */\r\n    const togglePane = (e, paneClicked = false) => {\r\n      /*\r\n       Select HTML element accordingly to what has been clicked, if header has been clicked\r\n       select sibling(panel element) if panel has been clicked select itself.\r\n      */\r\n      let panel = paneClicked ? e.currentTarget : e.currentTarget.nextElementSibling;\r\n      if(panel.style.maxHeight) {\r\n        panel.style.maxHeight = null;\r\n      }else {\r\n        panel.style.maxHeight = panel.scrollHeight + \"px\";\r\n      }\r\n      isPanelOpen.value = !isPanelOpen.value;\r\n    };\r\n\r\n\r\n    return {\r\n      /* Component properties */\r\n      isPanelOpen,\r\n\r\n      /* Methods */\r\n      togglePane,\r\n\r\n      /* Icons from */\r\n      locationOutline,\r\n      chevronDownOutline,\r\n      chevronForwardOutline,\r\n    };\r\n\r\n  },\r\n});\r\n</script>","import { render } from \"./AccordionList.vue?vue&type=template&id=def3e4e2\"\nimport script from \"./AccordionList.vue?vue&type=script&lang=js\"\nexport * from \"./AccordionList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Cafe.vue?vue&type=style&index=0&id=6da9039e&scoped=true&lang=css\""],"sourceRoot":""}