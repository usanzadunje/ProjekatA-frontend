(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cafe"],{"04c9":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("4de4");var c=n("7a23"),i=Object(c["L"])("data-v-14fd7ee1");Object(c["u"])("data-v-14fd7ee1");var a={class:"flex justify-between"},o=Object(c["h"])("div",{class:"relative"},[Object(c["h"])("img",{src:"http://192.168.1.203:8200/storage/img/cafe/cafeshow.png",alt:"Image of {{ cafe.name }} cafe",class:"banner-image w-full"}),Object(c["h"])("div",{class:"uppercase absolute bottom-2 right-3 bg-black opacity-60 popover-text-block inline-block text-white p-1.5"}," GALERIJA ")],-1),r={class:"mt-4 ion-item-no-padding-x"},s={class:"cafe-show-name"},l=Object(c["h"])("p",{class:"cafe-show-offers mt-1"},"Kafić, hrana, bašta. Nastavi dalje kako bi video šta vam naša aplikacija nudi.",-1),u={class:"mt-10"};Object(c["s"])();var b=i((function(e,t,n,b,d,f){var O=Object(c["z"])("ion-icon"),j=Object(c["z"])("ion-button"),p=Object(c["z"])("ion-buttons"),h=Object(c["z"])("ion-toolbar"),m=Object(c["z"])("ion-header"),g=Object(c["z"])("CafeInfoBody"),v=Object(c["z"])("FilterCategoryHeading"),y=Object(c["z"])("AccordionList"),x=Object(c["z"])("CafeSubscriptionModal"),I=Object(c["z"])("ion-modal"),w=Object(c["z"])("ion-content"),C=Object(c["z"])("ion-page");return Object(c["r"])(),Object(c["e"])(C,null,{default:i((function(){return[Object(c["h"])(m,{class:"ion-no-border"},{default:i((function(){return[Object(c["h"])(h,null,{default:i((function(){return[Object(c["h"])("div",a,[Object(c["h"])(p,{slot:"start"},{default:i((function(){return[Object(c["h"])(j,{href:"/home"},{default:i((function(){return[Object(c["h"])(O,{slot:"icon-only",icon:e.arrowBackOutline,class:"text-gray-400"},null,8,["icon"])]})),_:1})]})),_:1}),Object(c["h"])(p,{slot:"start"},{default:i((function(){return[Object(c["h"])(j,null,{default:i((function(){return[Object(c["h"])(O,{slot:"icon-only",icon:e.notificationsOutline,class:"text-gray-400"},null,8,["icon"])]})),_:1})]})),_:1})])]})),_:1})]})),_:1}),Object(c["h"])(w,{fullscreen:!0,class:"ion-padding"},{default:i((function(){var n,a;return[o,Object(c["h"])("div",r,[Object(c["h"])("h1",s,Object(c["B"])(e.cafe.name),1),l]),Object(c["h"])(g,{cafe:e.cafe},null,8,["cafe"]),Object(c["h"])("div",null,[Object(c["h"])(v,{class:"mt-7 mb-2 text-gray-400",title:"Meni",icon:e.fastFoodOutline},null,8,["icon"]),Object(c["h"])(y,{class:"accordion-list-border-top",title:"Karta pica",items:null===(n=e.cafe.offerings)||void 0===n?void 0:n.filter((function(e){return"pice"===e.tag}))},null,8,["items"]),Object(c["h"])(y,{class:"accordion-list-border-top accordion-list-border-bottom",title:"Hrana",items:null===(a=e.cafe.offerings)||void 0===a?void 0:a.filter((function(e){return"hrana"===e.tag}))},null,8,["items"])]),Object(c["h"])("div",u,[Object(c["h"])(j,{class:"uppercase button-subscribe-wide",expand:"block",onClick:t[1]||(t[1]=function(t){return e.openModal(!0)}),disabled:!e.loggedIn},{default:i((function(){return[Object(c["h"])(O,{slot:"start",icon:e.isUserSubscribed?e.notifications:e.notificationsOutline},null,8,["icon"]),Object(c["g"])(" "+Object(c["B"])(e.isUserSubscribed?"Pretplacen":"Pretplati se"),1)]})),_:1},8,["disabled"])]),Object(c["h"])(I,{"is-open":e.isModalOpen,"css-class":"custom-modal",onOnDidDismiss:t[4]||(t[4]=function(t){return e.openModal(!1)}),"backdrop-dismiss":!0,"swipe-to-close":!0},{default:i((function(){return[Object(c["h"])(x,{cafe:{id:e.cafe.id,name:e.cafe.name},onDismissSubscriptionModal:t[2]||(t[2]=function(t){return e.openModal(!1)}),onUserToggledSubscription:t[3]||(t[3]=function(t){return e.isUserSubscribed=!e.isUserSubscribed})},null,8,["cafe"])]})),_:1},8,["is-open"])]})),_:1})]})),_:1})})),d=n("ce03");n("8096");d["a"].render=b,d["a"].__scopeId="data-v-14fd7ee1";t["default"]=d["a"]},"0f94":function(e,t,n){"use strict";var c=n("7a23"),i={class:"flex align-middle"},a={class:"sliding-filter-title uppercase"};function o(e,t,n,o,r,s){var l=Object(c["z"])("ion-icon");return Object(c["r"])(),Object(c["e"])("div",i,[Object(c["h"])(l,{icon:e.icon,class:"mr-1 text-gray-400"},null,8,["icon"]),Object(c["h"])("span",a,Object(c["B"])(e.title),1)])}var r=n("d867"),s=n("ff79"),l=Object(c["i"])({name:"FilterCategoryHeading",components:{IonIcon:r["i"]},props:{title:{type:String,default:"Rezultati pretrage"},icon:{type:String,default:s["F"]}},setup:function(){return{pieChart:s["F"]}}});l.render=o;t["a"]=l},"1e4a":function(e,t,n){"use strict";n("29ef")},"29ef":function(e,t,n){},"2e81":function(e,t,n){"use strict";n("b0c0");var c=n("7a23"),i={class:"accordion-list-box"},a={class:"inline-block ml-2.5 cafe-show-menu-headers"};function o(e,t,n,o,r,s){var l=Object(c["z"])("ion-icon");return Object(c["r"])(),Object(c["e"])("div",i,[Object(c["h"])("div",{onClick:t[1]||(t[1]=function(){return e.togglePane&&e.togglePane.apply(e,arguments)}),class:"flex justify-between py-2.5"},[Object(c["h"])("div",null,[Object(c["h"])(l,{icon:e.locationOutline,class:"align-middle text-gray-400"},null,8,["icon"]),Object(c["h"])("p",a,Object(c["B"])(e.title),1)]),Object(c["h"])(l,{icon:e.isPanelOpen?e.chevronForwardOutline:e.chevronDownOutline,class:"mt-1 text-gray-400"},null,8,["icon"])]),Object(c["h"])("div",{class:"panel",onClick:t[2]||(t[2]=function(t){return e.togglePane(t,!0)})},[(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(e.items,(function(e){return Object(c["r"])(),Object(c["e"])("div",{key:e},Object(c["B"])(e.name),1)})),128))])])}var r=n("d867"),s=n("ff79"),l=Object(c["i"])({name:"AccordionList",components:{IonIcon:r["i"]},props:{title:{type:String,default:"Title"},items:{type:Array,default:null}},setup:function(){var e=Object(c["w"])(!1),t=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=n?t.currentTarget:t.currentTarget.nextElementSibling;c.style.maxHeight?c.style.maxHeight=null:c.style.maxHeight=c.scrollHeight+"px",e.value=!e.value};return{isPanelOpen:e,togglePane:t,locationOutline:s["r"],chevronDownOutline:s["f"],chevronForwardOutline:s["h"]}}});l.render=o;t["a"]=l},"5a09":function(e,t,n){"use strict";var c=n("7a23"),i=Object(c["L"])("data-v-3191824c");Object(c["u"])("data-v-3191824c");var a={class:"modal-cafe-text-medium mt-0.5"},o={class:"flex justify-between"},r={class:"modal-cafe-text-regular"},s=Object(c["g"])("MAPA"),l={class:"flex justify-start mt-1.5"},u={class:"ion-item-no-padding-x flex"},b=Object(c["h"])("p",{class:"modal-cafe-text-regular"},"hrana",-1),d={class:"ion-item-no-padding-x flex ml-3.5"},f=Object(c["h"])("p",{class:"modal-cafe-text-regular"},"poseduje bastu",-1),O={class:"ion-item-no-padding-x flex ml-3.5"},j=Object(c["h"])("p",{class:"modal-cafe-text-regular"},"09am-01pm",-1);Object(c["s"])();var p=i((function(e,t,n,p,h,m){var g=Object(c["z"])("ion-icon"),v=Object(c["z"])("ion-item"),y=Object(c["z"])("ion-button");return Object(c["r"])(),Object(c["e"])(c["a"],null,[Object(c["h"])(v,{class:"ion-item-no-padding-x"},{default:i((function(){return[Object(c["h"])(g,{icon:e.pieChart,class:"mr-2 text-yellow-400"},null,8,["icon"]),Object(c["h"])("span",a,Object(c["B"])(e.cafe.taken_capacity)+" - slobodnih mesta",1)]})),_:1}),Object(c["h"])(v,{class:"ion-item-no-padding-x"},{default:i((function(){return[Object(c["h"])("div",o,[Object(c["h"])(g,{icon:e.locationOutline,class:"mr-2"},null,8,["icon"]),Object(c["h"])("p",r,Object(c["B"])(e.cafe.address)+" - "+Object(c["B"])(e.cafe.city),1)]),Object(c["h"])(y,{fill:"clear",class:"uppercase",slot:"end"},{default:i((function(){return[s]})),_:1})]})),_:1}),Object(c["h"])("div",l,[Object(c["h"])("div",u,[Object(c["h"])(g,{icon:e.fastFoodOutline,class:"mr-2"},null,8,["icon"]),b]),Object(c["h"])("div",d,[Object(c["h"])(g,{icon:e.leafOutline,class:"mr-2"},null,8,["icon"]),f]),Object(c["h"])("div",O,[Object(c["h"])(g,{icon:e.timeOutline,class:"mr-2"},null,8,["icon"]),j])])],64)})),h=n("d867"),m=n("ff79"),g=Object(c["i"])({name:"CafeInfoBody",components:{IonIcon:h["i"],IonButton:h["b"],IonItem:h["m"]},props:{cafe:{type:Object,default:null}},setup:function(){return{pieChart:m["F"],locationOutline:m["r"],fastFoodOutline:m["n"],leafOutline:m["q"],timeOutline:m["M"]}}});n("e15d");g.render=p,g.__scopeId="data-v-3191824c";t["a"]=g},"5aaa":function(e,t,n){"use strict";n("99af");var c=n("fce9");t["a"]={index:function(){return c["a"].get("/cafes")},getCafeCardsChunkInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"name",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return c["a"].get("/cafes/chunked/start/number-of-cafes/".concat(e,"/").concat(t),{params:{filter:n,sortBy:i,getAllColumns:a}})},show:function(e){return c["a"].get("/cafes/".concat(e),{params:{getAllColumns:!0}})},subscribe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?c["a"].post("/users/subscribe/cafe/".concat(e,"/notify-in-next/").concat(t)):c["a"].post("/users/subscribe/cafe/".concat(e,"/notify-in-next/"))},unsubscribe:function(e){return c["a"].post("/users/unsubscribe/cafe/".concat(e))},isUserSubscribed:function(e){return c["a"].post("/users/subscribed/cafe/".concat(e))},getAllCafesUserSubscribedTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"name";return c["a"].get("/users/cafes/subscriptions",{params:{sortBy:e}})}}},8096:function(e,t,n){"use strict";n("c7d8")},8591:function(e,t,n){"use strict";n("b0c0");var c=n("7a23"),i=Object(c["L"])("data-v-c1194000");Object(c["u"])("data-v-c1194000");var a=Object(c["h"])("h1",{class:"submodal-heading"},"Notifikacije",-1),o={class:"submodal-paragraph"},r=Object(c["g"])(" Obavesti me ukoliko se oslobodi sto u objektu "),s={class:"submodal-paragraph-meidum"},l=Object(c["g"])(" u narednih : "),u=Object(c["g"])("Neodredjeno"),b={class:"mt-2 mb-3 flex justify-between"},d=Object(c["g"])(" Otkazi ");Object(c["s"])();var f=i((function(e,t,n,f,O,j){var p=Object(c["z"])("ion-item"),h=Object(c["z"])("ion-toggle"),m=Object(c["z"])("ion-label"),g=Object(c["z"])("ion-range"),v=Object(c["z"])("ion-button"),y=Object(c["z"])("ion-icon"),x=Object(c["z"])("ion-content");return Object(c["r"])(),Object(c["e"])(x,{class:"ion-padding"},{default:i((function(){return[Object(c["h"])(p,{class:"mt-3"},{default:i((function(){return[a]})),_:1}),Object(c["h"])(p,null,{default:i((function(){return[Object(c["h"])("p",o,[r,Object(c["h"])("span",s,Object(c["B"])(e.cafe.name),1),l])]})),_:1}),Object(c["h"])(p,{class:"ion-no-padding mt-4"},{default:i((function(){return[Object(c["h"])(h,{class:"pl-4",onIonChange:t[1]||(t[1]=function(t){return e.indefiniteTimerToggle(t)}),disabled:e.isUserSubscribed},null,8,["disabled"]),Object(c["h"])(m,{class:"margin-left-1 submodal-fade-text"},{default:i((function(){return[u]})),_:1})]})),_:1}),Object(c["h"])(p,{class:"ion-no-padding"},{default:i((function(){return[Object(c["h"])(g,{min:"5",max:"60",step:"5",color:"primary",modelValue:e.notificationTime,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.notificationTime=t}),disabled:e.indefiniteTimerActive||e.isUserSubscribed},null,8,["modelValue","disabled"]),Object(c["h"])(m,{class:"ml-1 margin-left-1 submodal-alert-time"},{default:i((function(){return[Object(c["g"])(Object(c["B"])(isNaN(e.notificationTime)?"∞":e.notificationTime+"min"),1)]})),_:1})]})),_:1}),Object(c["h"])("div",b,[Object(c["h"])(v,{class:"uppercase button-cancel modal-button-border",onClick:t[3]||(t[3]=function(t){return e.$emit("dismissSubscriptionModal")})},{default:i((function(){return[d]})),_:1}),Object(c["h"])(v,{class:"uppercase button-confirm modal-button-border",onClick:t[4]||(t[4]=function(t){return e.toggleSubscription(e.cafe.id)})},{default:i((function(){return[Object(c["h"])(y,{slot:"start",icon:e.isUserSubscribed?e.notifications:e.notificationsOutline},null,8,["icon"]),Object(c["g"])(" "+Object(c["B"])(e.isUserSubscribed?"Ukloni":"Potvrdi"),1)]})),_:1})])]})),_:1})})),O=n("5502"),j=n("d867"),p=n("ff79"),h=n("945c"),m=n("5aaa"),g=Object(c["i"])({name:"CafeSubscriptionModal",components:{IonContent:j["f"],IonItem:j["m"],IonIcon:j["i"],IonButton:j["b"],IonToggle:j["H"],IonRange:j["t"],IonLabel:j["q"]},props:{cafe:{type:Object,default:null}},emits:["dismissSubscriptionModal","userToggledSubscription"],setup:function(e,t){var n=t.emit,i=Object(O["c"])(),a=Object(c["w"])(15),o=Object(c["w"])(!1),r=Object(c["w"])(!1),s=Object(c["C"])(e,"cafe");m["a"].isUserSubscribed(s.value.id).then((function(e){r.value=!!e.data})).catch((function(e){return alert(e)}));var l=function(e){o.value=e.target.checked},u=function(e){o.value&&(a.value=null),r.value?m["a"].unsubscribe(e).then((function(e){e.data&&(alert("Successfully unsubscribed!"),r.value=!1,n("userToggledSubscription"))})).catch((function(e){return alert(e)})):m["a"].subscribe(e,a.value).then((function(e){e.data&&(alert("Successfully subscribed!"),r.value=!0,n("userToggledSubscription"))})).catch((function(e){return alert(e)}))},b=Object(h["a"])(i.getters["auth/authUser"].id),d=b.initPush;return d(),{notificationTime:a,indefiniteTimerActive:o,isUserSubscribed:r,indefiniteTimerToggle:l,toggleSubscription:u,notifications:p["A"],notificationsOutline:p["C"]}}});n("1e4a");g.render=f,g.__scopeId="data-v-c1194000";t["a"]=g},"918d":function(e,t,n){},"99af":function(e,t,n){"use strict";var c=n("23e7"),i=n("d039"),a=n("e8b5"),o=n("861d"),r=n("7b0b"),s=n("50c4"),l=n("8418"),u=n("65f0"),b=n("1dde"),d=n("b622"),f=n("2d00"),O=d("isConcatSpreadable"),j=9007199254740991,p="Maximum allowed index exceeded",h=f>=51||!i((function(){var e=[];return e[O]=!1,e.concat()[0]!==e})),m=b("concat"),g=function(e){if(!o(e))return!1;var t=e[O];return void 0!==t?!!t:a(e)},v=!h||!m;c({target:"Array",proto:!0,forced:v},{concat:function(e){var t,n,c,i,a,o=r(this),b=u(o,0),d=0;for(t=-1,c=arguments.length;t<c;t++)if(a=-1===t?o:arguments[t],g(a)){if(i=s(a.length),d+i>j)throw TypeError(p);for(n=0;n<i;n++,d++)n in a&&l(b,d,a[n])}else{if(d>=j)throw TypeError(p);l(b,d++,a)}return b.length=d,b}})},c7d8:function(e,t,n){},ce03:function(e,t,n){"use strict";(function(e){var c=n("7a23"),i=n("5502"),a=n("6c02"),o=n("d867"),r=n("5a09"),s=n("0f94"),l=n("2e81"),u=n("8591"),b=n("5aaa"),d=n("ff79");t["a"]=Object(c["i"])({name:"Cafe",components:{IonPage:o["s"],IonHeader:o["h"],IonToolbar:o["I"],IonButtons:o["c"],IonContent:o["f"],IonIcon:o["i"],IonButton:o["b"],IonModal:o["r"],CafeInfoBody:r["a"],FilterCategoryHeading:s["a"],AccordionList:l["a"],CafeSubscriptionModal:u["a"]},setup:function(){var t=Object(a["h"])(),n=Object(i["c"])(),o=Object(c["w"])({}),r=Object(c["w"])(!1),s=Object(c["w"])(!1),l=Object(c["c"])((function(){return n.getters["auth/loggedIn"]})),u=function(e){r.value=e};return b["a"].show(t.params.id).then((function(e){o.value=e.data})).catch((function(e){return alert(e)})),l.value&&b["a"].isUserSubscribed(t.params.id).then((function(e){s.value=!!e.data})).catch((function(e){return alert(e)})),{process:e,cafe:o,isModalOpen:r,isUserSubscribed:s,loggedIn:l,openModal:u,arrowBackOutline:d["a"],notifications:d["A"],notificationsOutline:d["C"],fastFoodOutline:d["n"]}}})}).call(this,n("4362"))},e15d:function(e,t,n){"use strict";n("918d")},fce9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("caad"),n("d3b7");var c=n("bc3a"),i=n.n(c),a=n("4360"),o=i.a.create({baseURL:"http://192.168.1.203:8200/api",withCredentials:!0});o.interceptors.response.use((function(e){return e}),(function(e){return e.response&&[401,419].includes(e.response.status)&&a["a"].getters["auth/authUser"]&&a["a"].dispatch("auth/logout"),Promise.reject(e)}))}}]);
//# sourceMappingURL=Cafe.53552529.js.map