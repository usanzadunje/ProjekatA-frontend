(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Home"],{"0963":function(e,t,n){"use strict";n("ffec")},1990:function(e,t,n){"use strict";var a=n("7a23"),c=Object(a["L"])("data-v-5c6e40a4");Object(a["u"])("data-v-5c6e40a4");var o={class:"px-4 pt-3 pb-1 pb-2 mt-2 md header-padding-bottom"},i={class:"flex justify-between"},s={class:"main-toolbar-fade-text"},r={class:"flex justify-around"},l=Object(a["h"])("p",{class:"main-toolbar-fade-text uppercase"},"Login",-1),u=Object(a["h"])("p",{class:"main-toolbar-fade-text uppercase"},"Register",-1),d={class:"main-toolbar-heading text-xl"},f={class:"flex"};Object(a["s"])();var b=c((function(e,t,n,b,O,h){var j=Object(a["z"])("ion-icon"),p=Object(a["z"])("ion-button"),m=Object(a["z"])("ion-searchbar"),g=Object(a["z"])("ion-toolbar"),v=Object(a["z"])("ion-header");return Object(a["r"])(),Object(a["e"])(v,{class:"ion-no-border"},{default:c((function(){return[Object(a["h"])(g,null,{default:c((function(){return[Object(a["h"])("div",o,[Object(a["I"])(Object(a["h"])("div",i,[Object(a["h"])("p",s,"Cao "+Object(a["B"])(e.authUser.full_name)+"!",1),Object(a["h"])(p,{fill:"clear",href:"/"},{default:c((function(){return[Object(a["h"])(j,{icon:e.notificationIcon,class:"text-2xl text-gray-400"},null,8,["icon"])]})),_:1})],512),[[a["F"],e.loggedIn]]),Object(a["I"])(Object(a["h"])("div",r,[Object(a["h"])(p,{fill:"clear",href:"/login"},{default:c((function(){return[l]})),_:1}),Object(a["h"])(p,{fill:"clear",href:"/register"},{default:c((function(){return[u]})),_:1})],512),[[a["F"],!e.loggedIn]]),Object(a["h"])("h1",d,Object(a["B"])(e.mainHeading),1),Object(a["h"])("div",f,[Object(a["h"])(m,{value:e.searchTerm,placeholder:"Unesite ime kafica",onIonChange:e.searchInputChanged,onKeyup:t[1]||(t[1]=Object(a["J"])((function(t){return e.$emit("searchEnterPressed",t)}),["enter"])),enterkeyhint:"search"},null,8,["value","onIonChange"]),e.hasSearchFilter?(Object(a["r"])(),Object(a["e"])(j,{key:0,icon:e.optionsOutline,class:"text-3xl text-gray-400 align-bottom mt-1 md filter-icon"},null,8,["icon"])):Object(a["f"])("",!0)]),Object(a["y"])(e.$slots,"default",{},void 0,!0)])]})),_:3})]})),_:1})})),O=n("5530"),h=n("5502"),j=n("d867"),p=n("ff79"),m=Object(a["i"])({name:"UserHeader",components:{IonIcon:j["i"],IonSearchbar:j["y"],IonHeader:j["h"],IonToolbar:j["I"],IonButton:j["b"]},props:{hasSearchFilter:Boolean,mainHeading:String,notificationIcon:String,searchTerm:String},computed:Object(O["a"])({},Object(h["b"])("auth",["authUser","loggedIn"])),emits:["searchFilterChanged","searchEnterPressed"],setup:function(e,t){var n=t.emit,a=function(e){n("searchFilterChanged",e.target.value)};return{searchInputChanged:a,optionsOutline:p["B"]}}});n("0963");m.render=b,m.__scopeId="data-v-5c6e40a4";t["a"]=m},"4ed2":function(e,t,n){"use strict";n("ac12")},"58bd":function(e,t,n){"use strict";n("b0c0");var a=n("7a23"),c=Object(a["L"])("data-v-b986922c");Object(a["u"])("data-v-b986922c");var o={class:"relative w-full container-modal"},i={class:"absolute w-full top-3"},s=Object(a["h"])("img",{src:"http://192.168.1.203:8200/storage/img/cafe/test.png",alt:"Logo of {{ cafe.name }}",class:"modal-thumbnail"},null,-1),r={class:"modal-cafe-name-text"},l=Object(a["h"])("p",{class:"modal-cafe-offers"},"Kafic, hrana, basta...",-1),u={class:"mt-5 mb-3 flex justify-between"},d=Object(a["g"])(" Pogledaj vise ");Object(a["s"])();var f=c((function(e,t,n,f,b,O){var h=Object(a["z"])("ion-thumbnail"),j=Object(a["z"])("ion-item"),p=Object(a["z"])("CafeInfoBody"),m=Object(a["z"])("ion-slide"),g=Object(a["z"])("ion-slides"),v=Object(a["z"])("ion-button"),C=Object(a["z"])("ion-icon"),I=Object(a["z"])("CafeSubscriptionModal"),S=Object(a["z"])("ion-modal"),y=Object(a["z"])("ion-content");return Object(a["r"])(),Object(a["e"])(y,{class:"ion-padding"},{default:c((function(){return[Object(a["h"])("div",o,[Object(a["h"])("div",i,[Object(a["h"])(j,{class:"ion-item-no-padding-x"},{default:c((function(){return[Object(a["h"])(h,{slot:"start"},{default:c((function(){return[s]})),_:1}),Object(a["h"])("div",null,[Object(a["h"])("h1",r,Object(a["B"])(e.cafe.name),1),l])]})),_:1}),Object(a["h"])(p,{cafe:e.cafe},null,8,["cafe"]),Object(a["h"])(j,{class:"mt-6 ion-no-padding"},{default:c((function(){return[Object(a["h"])(g,{ref:"slider",options:e.slideOpts},{default:c((function(){return[(Object(a["r"])(),Object(a["e"])(a["a"],null,Object(a["x"])([1,2,3],(function(e){return Object(a["h"])(m,{key:e},{default:c((function(){return[Object(a["h"])("img",{src:"http://192.168.1.203:8200/storage/img/cafe/test".concat(e,".png"),alt:""},null,8,["src"])]})),_:2},1024)})),64))]})),_:1},8,["options"])]})),_:1}),Object(a["h"])("div",u,[Object(a["h"])(v,{class:"uppercase button-see-more modal-button-border",href:"/cafes/".concat(e.cafe.id),onClick:t[1]||(t[1]=function(t){return e.$emit("dismissShortCafeModal")})},{default:c((function(){return[d]})),_:1},8,["href"]),Object(a["h"])(v,{class:"uppercase button-subscribe modal-button-border",onClick:t[2]||(t[2]=function(t){e.openModal(!0),e.$emit("subModalOpened")}),disabled:!e.loggedIn},{default:c((function(){return[Object(a["h"])(C,{slot:"start",icon:e.isUserSubscribed?e.notifications:e.notificationsOutline},null,8,["icon"]),Object(a["g"])(" "+Object(a["B"])(e.isUserSubscribed?"Pretplacen":"Pretplati se"),1)]})),_:1},8,["disabled"])])])]),Object(a["h"])(S,{"is-open":e.isModalOpen,"css-class":"custom-sub-modal",onDidDismiss:t[5]||(t[5]=function(t){e.openModal(!1),e.$emit("dismissShortCafeModal")}),"backdrop-dismiss":!0,"swipe-to-close":!0},{default:c((function(){return[Object(a["h"])(I,{cafe:{id:e.cafe.id,name:e.cafe.name},isUserSubscribed:e.isUserSubscribed,onDismissSubscriptionModal:t[3]||(t[3]=function(t){e.openModal(!1),e.$emit("dismissShortCafeModal")}),onUserToggledSubscription:t[4]||(t[4]=function(t){return e.isUserSubscribed=!e.isUserSubscribed})},null,8,["cafe","isUserSubscribed"])]})),_:1},8,["is-open"])]})),_:1})})),b=n("5502"),O=n("d867"),h=n("5aaa"),j=n("5a09"),p=n("8591"),m=n("ff79"),g=Object(a["i"])({name:"ShortCafeModal",components:{IonContent:O["f"],IonThumbnail:O["F"],IonItem:O["m"],IonIcon:O["i"],IonButton:O["b"],IonSlides:O["A"],IonSlide:O["z"],IonModal:O["r"],CafeSubscriptionModal:p["a"],CafeInfoBody:j["a"]},props:{cafe:{type:Object,default:null}},emits:["dismissShortCafeModal","subModalOpened"],updated:function(){var e=this,t=document.querySelector("ion-slides");this.$nextTick((function(){t.options=e.slideOpts}))},setup:function(e){var t=Object(b["c"])(),n={initialSlide:0,speed:500,slidesPerView:2.2},c=Object(a["w"])(!1),o=Object(a["w"])(!1),i=Object(a["C"])(e,"cafe"),s=Object(a["c"])((function(){return t.getters["auth/loggedIn"]}));s.value&&h["a"].isUserSubscribed(i.value.id).then((function(e){o.value=!!e.data})).catch((function(e){return alert(e)}));var r=function(e){c.value=e};return{slideOpts:n,isModalOpen:c,isUserSubscribed:o,loggedIn:s,openModal:r,notifications:m["y"],notificationsOutline:m["A"]}}});g.render=f,g.__scopeId="data-v-b986922c";t["a"]=g},"699a":function(e,t,n){},"8a67":function(e,t,n){"use strict";n("b0c0");var a=n("7a23"),c=Object(a["L"])("data-v-2818ac66");Object(a["u"])("data-v-2818ac66");var o={class:"bg-white cafe-card-border-radius"},i={class:"p-4 flex ion-align-items-center"},s=Object(a["h"])("img",{src:"http://192.168.1.203:8200/storage/img/cafe/test.png",alt:"",class:"cafe-card-image"},null,-1),r={class:"ml-3.5"},l={class:"cafe-card-name"},u=Object(a["h"])("p",{class:"cafe-card-fade-text"},"Kafic, hrana, basta ...",-1),d=Object(a["h"])("hr",{class:"card-horizontal-ruler"},null,-1),f={class:"px-3 pt-3 pb-2.5 flex justify-between"},b={class:"flex"},O={class:"flex"},h={class:"cafe-card-fade-text ml-1"},j={class:"flex ml-2"},p=Object(a["h"])("span",{class:"cafe-card-fade-text ml-1"},"600m",-1),m={class:"flex"};Object(a["s"])();var g=c((function(e,t,n,c,g,v){var C=Object(a["z"])("ion-icon");return Object(a["r"])(),Object(a["e"])("div",o,[Object(a["h"])("div",i,[s,Object(a["h"])("div",r,[Object(a["h"])("h2",l,Object(a["B"])(e.cafe.name),1),u])]),d,Object(a["h"])("div",f,[Object(a["h"])("div",b,[Object(a["h"])("div",O,[Object(a["h"])(C,{icon:e.pieChart,class:"text-yellow-400"},null,8,["icon"]),Object(a["h"])("span",h,Object(a["B"])(e.cafe.taken_capacity),1)]),Object(a["h"])("div",j,[Object(a["h"])(C,{icon:e.locationOutline,class:"text-gray-400"},null,8,["icon"]),p])]),Object(a["h"])("div",m,[Object(a["h"])(C,{icon:e.fastFoodOutline},null,8,["icon"]),Object(a["h"])(C,{icon:e.leafOutline,class:"ml-1"},null,8,["icon"])])])])})),v=n("d867"),C=n("ff79"),I=Object(a["i"])({name:"CafeCard",components:{IonIcon:v["i"]},props:{cafe:{type:Object,default:null}},setup:function(){return{locationOutline:C["r"],pieChart:C["D"],fastFoodOutline:C["n"],leafOutline:C["q"]}}});n("4ed2");I.render=g,I.__scopeId="data-v-2818ac66";t["a"]=I},ac12:function(e,t,n){},ba5b:function(e,t,n){"use strict";n.r(t);n("fb6a");var a=n("7a23");function c(e,t,n,c,o,i){var s=Object(a["z"])("UserHeader"),r=Object(a["z"])("ion-refresher-content"),l=Object(a["z"])("ion-refresher"),u=Object(a["z"])("FilterCategoryHeading"),d=Object(a["z"])("HomeSlidingCafeCards"),f=Object(a["z"])("ion-slide"),b=Object(a["z"])("ion-slides"),O=Object(a["z"])("ShortCafeModal"),h=Object(a["z"])("ion-modal"),j=Object(a["z"])("ion-content"),p=Object(a["z"])("ion-page");return Object(a["r"])(),Object(a["e"])(p,null,{default:Object(a["H"])((function(){return[Object(a["h"])(s,{hasSearchFilter:!0,mainHeading:"Pronadji slobodno mesto",notificationIcon:e.notificationsOutline,onSearchEnterPressed:e.switchToSearch},null,8,["notificationIcon","onSearchEnterPressed"]),Object(a["h"])(j,{class:"ion-padding"},{default:Object(a["H"])((function(){return[Object(a["h"])(l,{slot:"fixed",onIonRefresh:t[1]||(t[1]=function(t){return e.refresh(t)}),class:"transparent"},{default:Object(a["H"])((function(){return[Object(a["h"])(r,{"pulling-text":"Povuci te da osvezite","refreshing-spinner":"lines","refreshing-text":"Osvezava se..."})]})),_:1}),Object(a["h"])(u,{class:"mb-2",title:"Najblizi vama"}),Object(a["h"])(b,{options:e.slideOpts,ref:"slides"},{default:Object(a["H"])((function(){return[Object(a["h"])(f,null,{default:Object(a["H"])((function(){return[Object(a["h"])(d,{cafes:e.cafes.closestToUserCafes.slice(0,2),onOpenCafeModal:t[2]||(t[2]=function(t){return e.openModal(t,!0)}),class:"pr-3"},null,8,["cafes"])]})),_:1}),Object(a["h"])(f,null,{default:Object(a["H"])((function(){return[Object(a["h"])(d,{cafes:e.cafes.closestToUserCafes.slice(2,4),onOpenCafeModal:t[3]||(t[3]=function(t){return e.openModal(t,!0)}),class:"pr-3"},null,8,["cafes"])]})),_:1})]})),_:1},8,["options"]),Object(a["h"])(u,{class:"mb-2",title:"Trenutno slobodni"}),Object(a["h"])(b,{options:e.slideOpts},{default:Object(a["H"])((function(){return[Object(a["h"])(f,null,{default:Object(a["H"])((function(){return[Object(a["h"])(d,{cafes:e.cafes.currentlyAvailableCafes.slice(0,2),onOpenCafeModal:t[4]||(t[4]=function(t){return e.openModal(t,!0)}),class:"pr-3"},null,8,["cafes"])]})),_:1}),Object(a["h"])(f,null,{default:Object(a["H"])((function(){return[Object(a["h"])(d,{cafes:e.cafes.currentlyAvailableCafes.slice(2,4),onOpenCafeModal:t[5]||(t[5]=function(t){return e.openModal(t,!0)}),class:"pr-3"},null,8,["cafes"])]})),_:1})]})),_:1},8,["options"]),Object(a["h"])(h,{"is-open":e.isModalOpen,"css-class":"custom-modal",onDidDismiss:t[7]||(t[7]=function(t){e.openModal(!1)}),"backdrop-dismiss":!0,"swipe-to-close":!0},{default:Object(a["H"])((function(){return[Object(a["h"])(O,{cafe:e.modalCafe,onDismissShortCafeModal:t[6]||(t[6]=function(t){return e.openModal(!1)}),onSubModalOpened:e.hideModal},null,8,["cafe","onSubModalOpened"])]})),_:1},8,["is-open"])]})),_:1})]})),_:1})}n("b64b"),n("d3b7"),n("3ca3"),n("ddb0");var o=n("6c02"),i=n("d867"),s=n("5aaa"),r=n("1990"),l=n("0f94"),u={class:"w-full"};function d(e,t,n,c,o,i){var s=Object(a["z"])("CafeCard");return Object(a["r"])(),Object(a["e"])("div",u,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["x"])(e.cafes,(function(t){return Object(a["r"])(),Object(a["e"])(s,{key:t.id,class:"mb-5",cafe:t,onClick:function(n){return e.$emit("openCafeModal",t)}},null,8,["cafe","onClick"])})),128))])}var f=n("8a67"),b=Object(a["i"])({name:"HomeSlidingCafeCards",components:{CafeCard:f["a"]},props:{cafes:{type:Object,default:null}},emits:["openCafeModal"],setup:function(){return{}}});b.render=d;var O=b,h=n("58bd"),j=n("ff79"),p=Object(a["i"])({name:"Home",components:{IonContent:i["f"],IonPage:i["s"],IonModal:i["r"],IonSlides:i["A"],IonSlide:i["z"],IonRefresher:i["u"],IonRefresherContent:i["v"],UserHeader:r["a"],FilterCategoryHeading:l["a"],HomeSlidingCafeCards:O,ShortCafeModal:h["a"]},beforeRouteEnter:function(e){if(Object.keys(e.query).length)return{path:e.path,query:{},hash:e.hash}},ionViewWillEnter:function(){document.querySelector("ion-slides").options=this.slideOpts},setup:function(){var e=Object(a["w"])(null),t=Object(o["i"])(),n={initialSlide:0,speed:300,slidesPerView:1.1},c=Object(a["v"])({currentlyAvailableCafes:[],closestToUserCafes:[]}),i=Object(a["w"])(!1),r=Object(a["w"])({});Object(a["p"])((function(){var e=document.querySelector("ion-slides");Object(a["m"])((function(){e.options=n}))})),s["a"].getCafeCardsChunkInfo(0,4,"","id",!0).then((function(e){c.currentlyAvailableCafes=e.data})).catch((function(e){return alert(e)})),s["a"].getCafeCardsChunkInfo(0,4,"","name",!0).then((function(e){c.closestToUserCafes=e.data})).catch((function(e){return alert(e)}));var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;document.querySelector("ion-slides").options=n,e&&(r.value=e),i.value=t},u=function(){var e=document.querySelector(".custom-modal > .modal-wrapper");e.style.height=0},d=function(e){t.push({path:"search",query:{searchTerm:e.target.value}}),e.target.value=null},f=function(e){Promise.all([s["a"].getCafeCardsChunkInfo(0,4,"","name",!0).then((function(e){c.currentlyAvailableCafes=e.data})).catch((function(e){return alert(e)})),s["a"].getCafeCardsChunkInfo(0,4,"","id",!0).then((function(e){c.closestToUserCafes=e.data})).catch((function(e){return alert(e)}))]).then((function(){e.target.complete()})).catch((function(t){alert(t),e.target.complete()}))};return{slides:e,slideOpts:n,cafes:c,isModalOpen:i,modalCafe:r,openModal:l,hideModal:u,switchToSearch:d,refresh:f,notificationsOutline:j["A"]}}});n("e510");p.render=c;t["default"]=p},e510:function(e,t,n){"use strict";n("699a")},fb6a:function(e,t,n){"use strict";var a=n("23e7"),c=n("861d"),o=n("e8b5"),i=n("23cb"),s=n("50c4"),r=n("fc6a"),l=n("8418"),u=n("b622"),d=n("1dde"),f=d("slice"),b=u("species"),O=[].slice,h=Math.max;a({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,a,u,d=r(this),f=s(d.length),j=i(e,f),p=i(void 0===t?f:t,f);if(o(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?c(n)&&(n=n[b],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return O.call(d,j,p);for(a=new(void 0===n?Array:n)(h(p-j,0)),u=0;j<p;j++,u++)j in d&&l(a,u,d[j]);return a.length=u,a}})},ffec:function(e,t,n){}}]);
//# sourceMappingURL=Home.b8d4cf14.js.map