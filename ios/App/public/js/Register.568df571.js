(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Register"],{1547:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f}));
/*! Capacitor: https://capacitorjs.com/ - MIT License */
const r=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},r=(e,t)=>{n.platforms.set(e,t)},o=e=>{n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))};return n.addPlatform=r,n.setPlatform=o,n},o=e=>e.CapacitorPlatforms=r(e),i=o("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{});i.addPlatform,i.setPlatform;var a;(function(e){e["Unimplemented"]="UNIMPLEMENTED",e["Unavailable"]="UNAVAILABLE"})(a||(a={}));class s extends Error{constructor(e,t){super(e),this.message=e,this.code=t}}const c=e=>{var t,n;return(null===e||void 0===e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null===e||void 0===e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"},l=e=>{var t,n,r,o,i;const l=e.Capacitor||{},u=l.Plugins=l.Plugins||{},d=e.CapacitorPlatforms,f=()=>c(e),m=(null===(t=null===d||void 0===d?void 0:d.currentPlatform)||void 0===t?void 0:t.getPlatform)||f,p=()=>"web"!==c(e),b=(null===(n=null===d||void 0===d?void 0:d.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||p,v=e=>{const t=y.get(e);return!!(null===t||void 0===t?void 0:t.platforms.has(m()))||!!w(e)},h=(null===(r=null===d||void 0===d?void 0:d.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||v,g=e=>{var t;return null===(t=l.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)},w=(null===(o=null===d||void 0===d?void 0:d.currentPlatform)||void 0===o?void 0:o.getPluginHeader)||g,O=t=>e.console.error(t),j=(e,t,n)=>Promise.reject(`${n} does not have an implementation of "${t}".`),y=new Map,x=(e,t={})=>{const n=y.get(e);if(n)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),n.proxy;const r=m(),o=w(e);let i;const c=async()=>(!i&&r in t&&(i=i="function"===typeof t[r]?await t[r]():t[r]),i),d=(t,n)=>{var i,c;if(!o){if(t)return null===(c=t[n])||void 0===c?void 0:c.bind(t);throw new s(`"${e}" plugin is not implemented on ${r}`,a.Unimplemented)}{const r=null===o||void 0===o?void 0:o.methods.find(e=>n===e.name);if(r)return"promise"===r.rtype?t=>l.nativePromise(e,n.toString(),t):(t,r)=>l.nativeCallback(e,n.toString(),t,r);if(t)return null===(i=t[n])||void 0===i?void 0:i.bind(t)}},f=t=>{let n;const o=(...o)=>{const i=c().then(i=>{const c=d(i,t);if(c){const e=c(...o);return n=null===e||void 0===e?void 0:e.remove,e}throw new s(`"${e}.${t}()" is not implemented on ${r}`,a.Unimplemented)});return"addListener"===t&&(i.remove=async()=>n()),i};return o.toString=()=>t.toString()+"() { [capacitor code] }",Object.defineProperty(o,"name",{value:t,writable:!1,configurable:!1}),o},p=f("addListener"),b=f("removeListener"),v=(e,t)=>{const n=p({eventName:e},t),r=async()=>{const r=await n;b({eventName:e,callbackId:r},t)},o=new Promise(e=>n.then(()=>e({remove:r})));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()},o},h=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"addListener":return o?v:p;case"removeListener":return b;default:return f(t)}}});return u[e]=h,y.set(e,{name:e,proxy:h,platforms:new Set([...Object.keys(t),...o?[r]:[]])}),h},P=(null===(i=null===d||void 0===d?void 0:d.currentPlatform)||void 0===i?void 0:i.registerPlugin)||x;return l.convertFileSrc||(l.convertFileSrc=e=>e),l.getPlatform=m,l.handleError=O,l.isNativePlatform=b,l.isPluginAvailable=h,l.pluginMethodNoop=j,l.registerPlugin=P,l.Exception=s,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},u=e=>e.Capacitor=l(e),d=u("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{}),f=d.registerPlugin;d.Plugins;class m{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){const n=this.listeners[e];n||(this.listeners[e]=[]),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const o=async()=>this.removeListener(e,t),i=Promise.resolve({remove:o});return Object.defineProperty(i,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()}}),i}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t){const n=this.listeners[e];n&&n.forEach(e=>e(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new d.Exception(e,a.Unimplemented)}unavailable(e="not available"){return new d.Exception(e,a.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const r=n.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}}).call(this,n("c8ba"))},"2fa3":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("b0c0"),n("d3b7");var r=n("a18c");function o(e){var t={apiError:["API Error, please try again."]};return 404===e.response.status&&"notFound"!==r["a"].currentRoute.name&&r["a"].push({path:"/404"}),e.response.data&&e.response.data.errors?e.response.data.errors:t}function i(e){return new Promise((function(t,n){e<1&&n("Invalid time in milliseconds passed."),setTimeout((function(){t()}),e)}))}},"935e":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=Object(r["L"])("data-v-05e2384a");Object(r["u"])("data-v-05e2384a");var i={class:"relative background-image-container bg"},a=Object(r["h"])("div",{class:"absolute logo-position-login w-full"},[Object(r["h"])("h1",{class:"text-center uppercase main-heading"},"Caffe"),Object(r["h"])("h1",{class:"text-center lowercase main-heading-smaller"},"finder")],-1),s={id:"content",class:"absolute w-full mb-4"},c=Object(r["h"])("h2",{class:"text-center secondary-heading"},"Registruj se",-1);Object(r["s"])();var l=o((function(e,t,n,l,u,d){var f=Object(r["z"])("RegisterForm"),m=Object(r["z"])("ion-content"),p=Object(r["z"])("ion-page");return Object(r["r"])(),Object(r["e"])(p,null,{default:o((function(){return[Object(r["h"])(m,null,{default:o((function(){return[Object(r["h"])("div",i,[a,Object(r["h"])("div",s,[c,Object(r["h"])(f,{class:"mt-8"})])])]})),_:1})]})),_:1})})),u={class:"px-8"},d={class:"mt-10"},f=Object(r["g"])(" Registruj se "),m=Object(r["g"])(" Prijavi se ");function p(e,t,n,o,i,a){var s=Object(r["z"])("ion-icon"),c=Object(r["z"])("ion-input"),l=Object(r["z"])("ion-item"),p=Object(r["z"])("SocialIcons"),b=Object(r["z"])("ion-button");return Object(r["r"])(),Object(r["e"])("div",u,[Object(r["h"])(l,{lines:"none",class:["flex rounded-2xl h-11 mt-3.5 auth-input-background",{"error-border":e.errorNames.hasOwnProperty("email")}]},{default:Object(r["H"])((function(){return[Object(r["h"])(s,{icon:e.mailOutline,class:"mr-2 text-xl text-gray-500"},null,8,["icon"]),Object(r["h"])(c,{modelValue:e.newUser.email,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.newUser.email=t}),modelModifiers:{lazy:!0},onKeyup:t[2]||(t[2]=Object(r["J"])((function(t){var n;return null===(n=e.passwordInput.$el)||void 0===n?void 0:n.setFocus()}),["enter"])),autocomplete:"email",type:"email",inputmode:"email",debounce:"600",placeholder:"E-mail adresa",required:""},null,8,["modelValue"])]})),_:1},8,["class"]),Object(r["h"])(l,{lines:"none",class:["flex rounded-2xl h-11 mt-3.5 auth-input-background",{"error-border":e.errorNames.hasOwnProperty("password")}]},{default:Object(r["H"])((function(){return[Object(r["h"])(s,{icon:e.lockOpenOutline,class:"mr-2 text-xl text-gray-500"},null,8,["icon"]),Object(r["h"])(c,{ref:"passwordInput",modelValue:e.newUser.password,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.newUser.password=t}),onKeyup:t[4]||(t[4]=Object(r["J"])((function(t){var n;return null===(n=e.passwordConfirmInput.$el)||void 0===n?void 0:n.setFocus()}),["enter"])),debounce:"1",inputmode:"password",type:e.showPassword?"text":"password",placeholder:"Lozinka",required:""},null,8,["modelValue","type"]),Object(r["h"])(s,{icon:e.showPassword?e.eyeOutline:e.eyeOffOutline,onClick:t[5]||(t[5]=function(t){return e.togglePasswordShow(!1)}),class:"text-xl text-gray-500"},null,8,["icon"])]})),_:1},8,["class"]),Object(r["h"])(l,{lines:"none",class:["flex rounded-2xl h-11 mt-3.5 auth-input-background",{"error-border":e.errorNames.hasOwnProperty("password")}]},{default:Object(r["H"])((function(){return[Object(r["h"])(s,{icon:e.lockOpenOutline,class:"mr-2 text-xl text-gray-500"},null,8,["icon"]),Object(r["h"])(c,{ref:"passwordConfirmInput",modelValue:e.newUser.password_confirmation,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.newUser.password_confirmation=t}),onKeyup:Object(r["J"])(e.register,["enter"]),debounce:"1",inputmode:"password",type:e.showPasswordConfirm?"text":"password",placeholder:"Ponovite lozinku",required:""},null,8,["modelValue","onKeyup","type"]),Object(r["h"])(s,{icon:e.showPasswordConfirm?e.eyeOutline:e.eyeOffOutline,onClick:t[7]||(t[7]=function(t){return e.togglePasswordShow(!0)}),class:"text-xl text-gray-500"},null,8,["icon"])]})),_:1},8,["class"]),Object(r["h"])(p,{class:"mt-7"}),Object(r["h"])("div",d,[Object(r["h"])(b,{size:"large",expand:"block",class:"auth-button-size auth-button-border-radius uppercase button-text-white",onClick:e.register},{default:Object(r["H"])((function(){return[f]})),_:1},8,["onClick"]),Object(r["h"])(b,{fill:"clear",routerLink:"/login",size:"large",expand:"block",class:"auth-button-size auth-button-border-radius uppercase button-text-black mt-4"},{default:Object(r["H"])((function(){return[m]})),_:1})])])}var b=n("1da1"),v=(n("b64b"),n("96cf"),n("6c02")),h=n("d867"),g=n("b012"),w=n("ffee"),O=n("2fa3"),j=n("ff79"),y=n("a09f"),x=Object(r["i"])({name:"RegisterForm",components:{IonItem:h["m"],IonInput:h["l"],IonIcon:h["i"],IonButton:h["b"],SocialIcons:w["a"]},setup:function(){var e=Object(v["i"])(),t=Object(r["v"])({}),n=Object(r["w"])(!1),o=Object(r["w"])(!1),i=Object(r["w"])({}),a=Object(r["w"])(null),s=Object(r["w"])(null),c=Object(y["a"])(),l=c.showErrorToast,u=c.showSuccessToast,d=function(){Object.assign(t,t,{fname:null,lname:null,bday:null,phone:null,username:null}),g["b"].register(t).then(Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.push({name:"onboarding"});case 2:return t.next=4,u("You have successfully registered!");case 4:case"end":return t.stop()}}),t)})))).catch(function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.value=Object(O["a"])(t),e.next=3,l(t);case 3:return e.next=5,Object(O["b"])(900*Object.keys(i.value).length);case 5:i.value={};case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?o.value=!o.value:n.value=!n.value};return{newUser:t,showPassword:n,showPasswordConfirm:o,errorNames:i,passwordInput:a,passwordConfirmInput:s,register:d,togglePasswordShow:f,personOutline:j["E"],mailOutline:j["x"],lockOpenOutline:j["s"],eyeOutline:j["m"],eyeOffOutline:j["l"]}}});x.render=p;var P=x,k=Object(r["i"])({name:"Register",components:{RegisterForm:P,IonPage:h["s"],IonContent:h["f"]},mounted:function(){this.clientDeviceHeight>720?document.getElementById("content").style.bottom="0":document.getElementById("content").style.top="40%"},data:function(){var e;return{clientDeviceHeight:null!==(e=document.documentElement.clientHeight)&&void 0!==e?e:500}}});n("eb27");k.render=l,k.__scopeId="data-v-05e2384a";t["default"]=k},a09f:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("1da1"),o=(n("96cf"),n("b64b"),n("7a23")),i=n("d867"),a=n("2fa3");function s(){var e=Object(o["w"])({}),t=Object(o["c"])((function(){return e.value?Object.keys(e.value):null})),n=function(t){return e.value[t]},s=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["L"].create({duration:1500,position:"top",message:t,cssClass:"success-toast"});case 2:return n=e.sent,e.abrupt("return",n.present());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var o=Object(r["a"])(regeneratorRuntime.mark((function r(o){var s,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.value=Object(a["a"])(o),s=0;case 2:if(!(s<t.value.length)){r.next=12;break}return r.next=5,i["L"].create({duration:1500,position:"top",message:n(t.value[s]),cssClass:"error-toast"});case 5:return c=r.sent,c.style.top="".concat(55*s,"px"),r.next=9,c.present();case 9:s++,r.next=2;break;case 12:case"end":return r.stop()}}),r)})));return function(e){return o.apply(this,arguments)}}();return{showSuccessToast:s,showErrorToast:c}}},eb27:function(e,t,n){"use strict";n("f18c")},f18c:function(e,t,n){},ffee:function(e,t,n){"use strict";var r=n("7a23"),o={class:"flex justify-around px-6"};function i(e,t,n,i,a,s){var c=Object(r["z"])("ion-icon");return Object(r["r"])(),Object(r["e"])("div",o,[Object(r["h"])("div",{onClick:t[1]||(t[1]=function(t){return e.login("facebook")}),class:"bg-gray-100 rounded-full text-center social-circle-size"},[Object(r["h"])(c,{icon:e.logoFacebook,class:"text-blue-400"},null,8,["icon"])]),Object(r["h"])("div",{onClick:t[2]||(t[2]=function(t){return e.login("github")}),class:"bg-gray-100 rounded-full text-center social-circle-size"},[Object(r["h"])(c,{icon:e.logoGithub,class:"text-blue-400"},null,8,["icon"])]),Object(r["h"])("div",{onClick:t[3]||(t[3]=function(t){return e.login("instagram")}),class:"bg-gray-100 rounded-full text-center social-circle-size"},[Object(r["h"])(c,{icon:e.logoInstagram},null,8,["icon"])]),Object(r["h"])("div",{onClick:t[4]||(t[4]=function(t){return e.login("google")}),class:"bg-gray-100 rounded-full text-center social-circle-size"},[Object(r["h"])(c,{icon:e.logoGoogle},null,8,["icon"])])])}var a=n("1da1"),s=(n("96cf"),n("6c02")),c=n("4360"),l=n("d867"),u=n("b012"),d=n("1547");const f=Object(d["c"])("GoogleAuth",{web:()=>n.e("chunk-7f92a140").then(n.bind(null,"9e96")).then(e=>new e.GoogleAuthWeb)});var m={getUserFromProvider:function(e){if("google"===e)return p();"facebook"===e&&b()}},p=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.signIn();case 2:return t=e.sent,e.abrupt("return",{fname:t.givenName,lname:t.familyName,email:t.email,avatar:t.imageUrl,provider_id:t.id});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("facebook");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=n("ff79"),h=Object(r["i"])({name:"SocialIcons",components:{IonIcon:l["i"]},mounted:function(){f.init()},setup:function(){var e=Object(s["i"])(),t=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.getUserFromProvider(n);case 2:r=t.sent,u["b"].authenticateSocial(r).then(Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].dispatch("auth/getAuthUser");case 2:return t.next=4,e.push({name:"home"});case 4:case"end":return t.stop()}}),t)}))));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{login:t,logoFacebook:v["t"],logoGithub:v["u"],logoInstagram:v["w"],logoGoogle:v["v"]}}});h.render=i;t["a"]=h}}]);
//# sourceMappingURL=Register.568df571.js.map