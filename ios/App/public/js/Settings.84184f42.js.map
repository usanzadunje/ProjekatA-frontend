{"version":3,"sources":["webpack:///./src/views/user/Settings.vue","webpack:///./src/views/user/Settings.vue?98bf","webpack:///./src/views/user/Settings.vue?7b78"],"names":["class","icon","flash","slot","isDarkModeOn","id","toggleDarkMode","$event","mode","fill","chevronForward","areNotificationsOn","toggleNotifications","language","rocket","window","location","href","expand","logout","name","components","IonContent","IonPage","IonItem","IonIcon","IonLabel","IonToggle","IonButton","setup","store","set","get","getters","then","response","value","document","getElementById","checked","catch","error","alert","e","target","body","classList","toggle","useFCM","initPush","AuthService","removeFcmToken","data","dispatch","render","__scopeId"],"mappings":"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","file":"js/Settings.84184f42.js","sourcesContent":["<template>\r\n  <ion-page>\r\n    <ion-content>\r\n      <ion-item class=\"no-border mt-3\">\r\n        <h1 class=\"settings-heading\">Podesavanja</h1>\r\n      </ion-item>\r\n      <ion-item class=\"no-border\">\r\n        <div class=\"settings-icon-badge settings-red-icon-color flex justify-center settings-padding-icon-top\">\r\n          <ion-icon :icon=\"flash\" class=\"text-white\"></ion-icon>\r\n        </div>\r\n        <p class=\"uppercase settings-fade-text ml-2\">Globalna podesavanja</p>\r\n      </ion-item>\r\n      <div>\r\n        <ion-item class=\"ion-item-padding-right\">\r\n          <p class=\"settings-item-text\">Dark mode</p>\r\n          <ion-item slot=\"end\" class=\"ion-no-padding ion-no-margin no-border pull-right\">\r\n            <ion-label class=\"settings-fade-text\">{{ isDarkModeOn ? 'ON' : 'OFF' }}</ion-label>\r\n            <ion-toggle\r\n                id=\"dark-mode-toggle\"\r\n                @ionChange=\"toggleDarkMode($event)\"\r\n                mode=\"md\"\r\n            ></ion-toggle>\r\n          </ion-item>\r\n        </ion-item>\r\n        <ion-item class=\"ion-item-padding-right\">\r\n          <p class=\"settings-item-text\">Privatnost</p>\r\n          <ion-button fill=\"clear\" slot=\"end\">\r\n            <ion-icon slot=\"icon-only\" :icon=\"chevronForward\" class=\"text-gray-400\"></ion-icon>\r\n          </ion-button>\r\n        </ion-item>\r\n        <ion-item class=\"ion-item-padding-right\">\r\n          <p class=\"settings-item-text\">Notifikacije</p>\r\n          <ion-item slot=\"end\" class=\"ion-no-padding ion-no-margin no-border pull-right\">\r\n            <ion-label class=\"settings-fade-text\">{{ areNotificationsOn ? 'ON' : 'OFF' }}</ion-label>\r\n            <ion-toggle\r\n                id=\"notification-toggle\"\r\n                @ionChange=\"toggleNotifications($event)\"\r\n                mode=\"md\"\r\n            ></ion-toggle>\r\n          </ion-item>\r\n        </ion-item>\r\n        <ion-item class=\"ion-item-padding-right\">\r\n          <p class=\"settings-item-text\">Jezik</p>\r\n          <ion-item slot=\"end\" class=\"ion-no-padding ion-no-margin no-border mr-1\">\r\n            <ion-button fill=\"clear\" class=\"settings-fade-text\">{{ language ?? 'SRB' }}</ion-button>\r\n          </ion-item>\r\n        </ion-item>\r\n      </div>\r\n      <div class=\"mt-5\">\r\n        <ion-item class=\"flex justify-start no-border\">\r\n          <div class=\"settings-icon-badge settings-yellow-icon-color flex justify-center settings-padding-icon-top\">\r\n            <ion-icon :icon=\"rocket\" class=\"text-white\"></ion-icon>\r\n          </div>\r\n          <p class=\"uppercase settings-fade-text ml-2\">O aplikaciji</p>\r\n        </ion-item>\r\n        <ion-item class=\"ion-item-padding-right\">\r\n          <p class=\"settings-item-text\">Podrzite autore</p>\r\n          <ion-button fill=\"clear\" slot=\"end\">\r\n            <ion-icon slot=\"icon-only\" :icon=\"chevronForward\" class=\"text-gray-400\"></ion-icon>\r\n          </ion-button>\r\n        </ion-item>\r\n        <ion-item class=\"ion-item-padding-right\" @click=\"window.location.href = 'www.projekata.com'\">\r\n          <p class=\"settings-item-text\">Web sajt</p>\r\n          <ion-button fill=\"clear\" slot=\"end\" href=\"//projekata.com\">\r\n            <ion-icon slot=\"icon-only\" :icon=\"chevronForward\" class=\"text-gray-400\"></ion-icon>\r\n          </ion-button>\r\n        </ion-item>\r\n        <ion-button class=\"uppercase\" fill=\"clear\" expand=\"block\" @click=\"logout\">\r\n          Logout\r\n        </ion-button>\r\n      </div>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref } from 'vue';\r\n\r\nimport { useStore } from 'vuex';\r\n\r\nimport {\r\n  IonContent,\r\n  IonPage,\r\n  IonItem,\r\n  IonIcon,\r\n  IonLabel,\r\n  IonToggle,\r\n  IonButton,\r\n} from '@ionic/vue';\r\n\r\nimport {\r\n  flash,\r\n  chevronForward,\r\n  rocket,\r\n} from 'ionicons/icons';\r\n\r\nimport AuthService    from '@/services/AuthService';\r\nimport { useStorage } from '@/services/StorageService';\r\n\r\nimport { useFCM } from '@/composables/useFCM';\r\n\r\nexport default defineComponent({\r\n  name: 'Settings',\r\n  components: {\r\n    IonContent,\r\n    IonPage,\r\n    IonItem,\r\n    IonIcon,\r\n    IonLabel,\r\n    IonToggle,\r\n    IonButton,\r\n  },\r\n  setup() {\r\n    /* Global properties */\r\n    const store = useStore();\r\n\r\n    /* Component properties */\r\n    let isDarkModeOn = ref(false);\r\n    let areNotificationsOn = ref(false);\r\n    let language = ref('SRB');\r\n\r\n    const { set, get } = useStorage();\r\n\r\n    /* Lifecycle hooks */\r\n    //Setting toggle checked attribute to whatever user choose and is persisted in storage\r\n    //for notifications\r\n    get(`areNotificationsOn.${store.getters['auth/authUser'].id}`)\r\n        .then((response) => {\r\n          areNotificationsOn.value = !!response;\r\n          document.getElementById('notification-toggle').checked = areNotificationsOn.value;\r\n        })\r\n        .catch((error) => {\r\n          alert(error);\r\n        });\r\n    get(`isDarkModeOn.${store.getters['auth/authUser'].id}`)\r\n        .then((response) => {\r\n          isDarkModeOn.value = !!response;\r\n          document.getElementById('dark-mode-toggle').checked = isDarkModeOn.value;\r\n        })\r\n        .catch((error) => {\r\n          alert(error);\r\n        });\r\n\r\n    /* Event handlers */\r\n    const toggleDarkMode = (e) => {\r\n      if(!e.target.checked) {\r\n        set(`isDarkModeOn.${store.getters['auth/authUser'].id}`, false);\r\n      }else {\r\n        //Remembering user decision for future usage\r\n        set(`isDarkModeOn.${store.getters['auth/authUser'].id}`, true);\r\n      }\r\n      document.body.classList.toggle('dark', e.target.checked);\r\n      isDarkModeOn.value = e.target.checked;\r\n    };\r\n    const toggleNotifications = (e) => {\r\n      if(!e.target.checked) {\r\n        /* Remove FCM token thus disabling notifications */\r\n        AuthService.removeFcmToken()\r\n                   .then((response) => {\r\n                     if(response.data) {\r\n                       //Remembering user decision for future usage\r\n                       set(`areNotificationsOn.${store.getters['auth/authUser'].id}`, false);\r\n                     }\r\n                   })\r\n                   .catch((error) => {\r\n                     alert(error);\r\n                   });\r\n\r\n      }else {\r\n        const { initPush } = useFCM(store.getters['auth/authUser'].id);\r\n        //Remembering user decision for future usage\r\n        set(`areNotificationsOn.${store.getters['auth/authUser'].id}`, true);\r\n        initPush();\r\n      }\r\n      areNotificationsOn.value = e.target.checked;\r\n    };\r\n    const logout = async() => {\r\n      await store.dispatch(\"auth/logout\");\r\n    };\r\n\r\n    return {\r\n      /* Compunent properties */\r\n      isDarkModeOn,\r\n      areNotificationsOn,\r\n      language,\r\n\r\n      /* Event handlers */\r\n      toggleDarkMode,\r\n      toggleNotifications,\r\n      logout,\r\n\r\n      /* Icons from */\r\n      flash,\r\n      chevronForward,\r\n      rocket,\r\n    };\r\n  },\r\n});\r\n</script>\r\n<style scoped>\r\nion-item {\r\n  --background: #F6F7FB;\r\n  --border-color: rgba(112, 112, 112, 0.1);\r\n  --inner-padding-end: 0;\r\n}\r\n\r\n.ion-item-padding-right {\r\n  --padding-end: 20px;\r\n}\r\n</style>","import { render } from \"./Settings.vue?vue&type=template&id=213ed6e2&scoped=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=213ed6e2&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-213ed6e2\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Settings.vue?vue&type=style&index=0&id=213ed6e2&scoped=true&lang=css\""],"sourceRoot":""}