(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f92a140"],{"0a89":function(e){e.exports=JSON.parse('{"appId":"com.projekata","appName":"ProjekatA","bundledWebRuntime":false,"npmClient":"npm","webDir":"dist","plugins":{"SplashScreen":{"launchShowDuration":0},"PushNotifications":{"presentationOptions":["badge","sound","alert"]},"LocalNotifications":{"smallIcon":"ic_table_chart","iconColor":"#9E0300","sound":"sound.wav"},"GoogleAuth":{"scopes":["profile","email"],"serverClientId":"1075012223350-ot9lec3ijhu2dso3ur5ngroepdmtmj74.apps.googleusercontent.com","forceCodeForRefreshToken":true}},"cordova":{}}')},"9e96":function(e,t,n){"use strict";n.r(t),n.d(t,"GoogleAuthWeb",(function(){return o}));var s=n("1547"),a=n("0a89");class o extends s["b"]{constructor(){super()}get webConfigured(){return"undefined"!==typeof document&&document.getElementsByName("google-signin-client_id").length>0}loadScript(){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.defer=!0,t.async=!0,t.onload=this.platformJsLoaded,t.src="https://apis.google.com/js/platform.js",e.appendChild(t)}init(){this.webConfigured&&(this.gapiLoaded=new Promise(e=>{window.gapiResolve=e,this.loadScript()}),this.addUserChangeListener())}platformJsLoaded(){gapi.load("auth2",()=>{const e={client_id:document.getElementsByName("google-signin-client_id")[0].content};null!=a.plugins.GoogleAuth&&null!=a.plugins.GoogleAuth.scopes&&(e.scope=a.plugins.GoogleAuth.scopes.join(" ")),gapi.auth2.init(e),window.gapiResolve()})}async signIn(){return new Promise(async(e,t)=>{try{var n,s=!1;try{s=null!=a.plugins.GoogleAuth.serverClientId}catch(o){}if(s){const e=await gapi.auth2.getAuthInstance().grantOfflineAccess();n=e.code}else await gapi.auth2.getAuthInstance().signIn();const t=gapi.auth2.getAuthInstance().currentUser.get();s&&await t.reloadAuthResponse();const i=this.getUserFrom(t);i.serverAuthCode=n,e(i)}catch(i){t(i)}})}async refresh(){const e=await gapi.auth2.getAuthInstance().currentUser.get().reloadAuthResponse();return{accessToken:e.access_token,idToken:e.id_token}}async signOut(){return gapi.auth2.getAuthInstance().signOut()}async addUserChangeListener(){await this.gapiLoaded,gapi.auth2.getAuthInstance().currentUser.listen(e=>{this.notifyListeners("userChange",e.isSignedIn()?this.getUserFrom(e):null)})}getUserFrom(e){const t={},n=e.getBasicProfile();t.email=n.getEmail(),t.familyName=n.getFamilyName(),t.givenName=n.getGivenName(),t.id=n.getId(),t.imageUrl=n.getImageUrl(),t.name=n.getName();const s=e.getAuthResponse(!0);return t.authentication={accessToken:s.access_token,idToken:s.id_token},t}}}}]);
//# sourceMappingURL=chunk-7f92a140.917e511a.js.map